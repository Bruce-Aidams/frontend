{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Bruce/Desktop/Projects/Megaai/frontend/src/lib/axios.ts"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n    baseURL: process.env.NEXT_PUBLIC_API_URL,\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n        'Accept': 'application/json',\r\n    },\r\n    withCredentials: false, // For Sanctum cookie-based auth if on same domain, but we are on different ports (3000 vs 8000).\r\n    // API Tokens usage:\r\n});\r\n\r\napi.interceptors.request.use((config) => {\r\n    const token = typeof window !== 'undefined' ? localStorage.getItem('token') : null;\r\n    console.log(`[Axios Request] ${config.method?.toUpperCase()} ${config.url}`, {\r\n        hasToken: !!token,\r\n        headers: config.headers\r\n    });\r\n    if (token) {\r\n        config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    return config;\r\n});\r\n\r\napi.interceptors.response.use(\r\n    (response) => {\r\n        console.log(`[Axios Response] ${response.status} ${response.config.url}`, response.data);\r\n        return response;\r\n    },\r\n    (error) => {\r\n        console.error(`[Axios Error] ${error.response?.status} ${error.config?.url}`, error.response?.data);\r\n\r\n        if (error.response?.status === 503 && error.response?.data?.maintenance) {\r\n            if (typeof window !== 'undefined' && window.location.pathname !== '/maintenance') {\r\n                window.location.href = '/maintenance';\r\n            }\r\n        }\r\n\r\n        if (error.response?.status === 401 || error.response?.status === 403) {\r\n            if (typeof window !== 'undefined') {\r\n                const is403 = error.response?.status === 403;\r\n                const msg = error.response?.data?.message || (is403 ? \"Access Forbidden\" : \"Unauthorized\");\r\n\r\n                // If 403, we might want to log user out if it's a persistent auth issue\r\n                if (error.response?.status === 401 || (is403 && !window.location.pathname.startsWith('/admin'))) {\r\n                    localStorage.removeItem('token');\r\n                    localStorage.removeItem('user');\r\n                    if (!window.location.pathname.startsWith('/auth')) {\r\n                        window.location.href = '/auth/login?error=' + encodeURIComponent(msg);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return Promise.reject(error);\r\n    }\r\n);\r\n\r\nexport default api;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,MAAM,6LAAK,CAAC,MAAM,CAAC;IACrB,OAAO;IACP,SAAS;QACL,gBAAgB;QAChB,UAAU;IACd;IACA,iBAAiB;AAErB;AAEA,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC1B,MAAM,QAAQ,sCAAgC,0BAAgC;IAC9E,QAAQ,GAAG,CAAC,CAAC,gBAAgB,EAAE,OAAO,MAAM,EAAE,cAAc,CAAC,EAAE,OAAO,GAAG,EAAE,EAAE;QACzE,UAAU,CAAC,CAAC;QACZ,SAAS,OAAO,OAAO;IAC3B;IACA;;IAGA,OAAO;AACX;AAEA,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CACzB,CAAC;IACG,QAAQ,GAAG,CAAC,CAAC,iBAAiB,EAAE,SAAS,MAAM,CAAC,CAAC,EAAE,SAAS,MAAM,CAAC,GAAG,EAAE,EAAE,SAAS,IAAI;IACvF,OAAO;AACX,GACA,CAAC;IACG,QAAQ,KAAK,CAAC,CAAC,cAAc,EAAE,MAAM,QAAQ,EAAE,OAAO,CAAC,EAAE,MAAM,MAAM,EAAE,KAAK,EAAE,MAAM,QAAQ,EAAE;IAE9F,IAAI,MAAM,QAAQ,EAAE,WAAW,OAAO,MAAM,QAAQ,EAAE,MAAM,aAAa;QACrE;;IAGJ;IAEA,IAAI,MAAM,QAAQ,EAAE,WAAW,OAAO,MAAM,QAAQ,EAAE,WAAW,KAAK;QAClE;;IAaJ;IACA,OAAO,QAAQ,MAAM,CAAC;AAC1B;uCAGW"}},
    {"offset": {"line": 132, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Bruce/Desktop/Projects/Megaai/frontend/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,2RAAC;QACC,aAAU;QACV,WAAW,IAAA,sKAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,2RAAC;QACC,aAAU;QACV,WAAW,IAAA,sKAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,2RAAC;QACC,aAAU;QACV,WAAW,IAAA,sKAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,2RAAC;QACC,aAAU;QACV,WAAW,IAAA,sKAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,2RAAC;QACC,aAAU;QACV,WAAW,IAAA,sKAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,2RAAC;QACC,aAAU;QACV,WAAW,IAAA,sKAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,2RAAC;QACC,aAAU;QACV,WAAW,IAAA,sKAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 234, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Bruce/Desktop/Projects/Megaai/frontend/src/app/dashboard/analytics/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport api from \"@/lib/axios\";\r\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/components/ui/card\";\r\nimport {\r\n    TrendingUp,\r\n    CheckCircle2,\r\n    Clock,\r\n    AlertCircle,\r\n    Activity,\r\n    BarChart3,\r\n    PieChart as PieChartIcon\r\n} from \"lucide-react\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { motion } from \"framer-motion\";\r\n\r\ninterface Stats {\r\n    total: number;\r\n    delivered: number;\r\n    pending: number;\r\n    failed: number;\r\n}\r\n\r\ninterface Order {\r\n    status: string;\r\n}\r\n\r\nexport default function AnalyticsPage() {\r\n    const [stats, setStats] = useState<Stats>({ total: 0, delivered: 0, pending: 0, failed: 0 });\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        const fetchAnalytics = async () => {\r\n            try {\r\n                const res = await api.get<{ data: Order[] }>('/orders');\r\n                const orders = res.data.data;\r\n                const newStats = {\r\n                    total: orders.length,\r\n                    delivered: orders.filter((o: Order) => o.status === 'completed' || o.status === 'delivered').length,\r\n                    pending: orders.filter((o: Order) => o.status === 'pending' || o.status === 'processing').length,\r\n                    failed: orders.filter((o: Order) => o.status === 'failed').length,\r\n                };\r\n                setStats(newStats);\r\n            } catch (e) {\r\n                console.error(e);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n        fetchAnalytics();\r\n    }, []);\r\n\r\n    const statCards = [\r\n        { title: \"Total Orders\", value: stats.total, icon: Activity, color: \"text-primary\", bg: \"bg-primary/10\" },\r\n        { title: \"Delivered\", value: stats.delivered, icon: CheckCircle2, color: \"text-green-600\", bg: \"bg-green-100\" },\r\n        { title: \"Pending\", value: stats.pending, icon: Clock, color: \"text-amber-600\", bg: \"bg-amber-100\" },\r\n        { title: \"Failed\", value: stats.failed, icon: AlertCircle, color: \"text-red-600\", bg: \"bg-red-100\" },\r\n    ];\r\n\r\n    return (\r\n        <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.5 }}\r\n            className=\"space-y-8\"\r\n        >\r\n            <div>\r\n                <h2 className=\"text-3xl font-bold tracking-tight text-primary\">Analytics</h2>\r\n                <p className=\"text-muted-foreground font-medium\">Insights into your data bundle purchases and performance.</p>\r\n            </div>\r\n\r\n            <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-4\">\r\n                {statCards.map((stat, i) => (\r\n                    <Card key={i} className=\"sneat-card border-none shadow-sm\">\r\n                        <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n                            <CardTitle className=\"text-sm font-bold uppercase tracking-wider text-muted-foreground\">{stat.title}</CardTitle>\r\n                            <div className={cn(\"p-2 rounded-lg\", stat.bg, stat.color)}>\r\n                                <stat.icon className=\"w-4 h-4\" />\r\n                            </div>\r\n                        </CardHeader>\r\n                        <CardContent>\r\n                            <div className=\"text-2xl font-bold\">{stat.value}</div>\r\n                            <p className=\"text-[10px] text-muted-foreground mt-1 flex items-center\">\r\n                                <TrendingUp className=\"w-3 h-3 mr-1 text-green-500\" />\r\n                                <span className=\"text-green-500 font-bold\">+12.5%</span> vs last month\r\n                            </p>\r\n                        </CardContent>\r\n                    </Card>\r\n                ))}\r\n            </div>\r\n\r\n            <div className=\"grid gap-6 md:grid-cols-7\">\r\n                <Card className=\"sneat-card col-span-4 border-none shadow-sm\">\r\n                    <CardHeader>\r\n                        <CardTitle className=\"text-lg flex items-center gap-2\">\r\n                            <BarChart3 className=\"w-5 h-5 text-primary\" />\r\n                            Order Performance\r\n                        </CardTitle>\r\n                        <CardDescription>Monthly overview of successful vs failed orders</CardDescription>\r\n                    </CardHeader>\r\n                    <CardContent className=\"h-[300px] flex items-center justify-center border-t border-gray-50 bg-gray-50/10\">\r\n                        {/* Placeholder for actual chart component */}\r\n                        <div className=\"flex flex-col items-center text-muted-foreground\">\r\n                            <BarChart3 className=\"w-12 h-12 mb-2 opacity-10\" />\r\n                            <p className=\"text-sm font-medium italic\">Chart visualization will appear here as data scales.</p>\r\n                        </div>\r\n                    </CardContent>\r\n                </Card>\r\n\r\n                <Card className=\"sneat-card col-span-3 border-none shadow-sm\">\r\n                    <CardHeader>\r\n                        <CardTitle className=\"text-lg flex items-center gap-2\">\r\n                            <PieChartIcon className=\"w-5 h-5 text-primary\" />\r\n                            Status Distribution\r\n                        </CardTitle>\r\n                        <CardDescription>Breakdown by order state</CardDescription>\r\n                    </CardHeader>\r\n                    <CardContent className=\"flex flex-col items-center justify-center h-[300px] space-y-6\">\r\n                        {loading ? (\r\n                            <div className=\"w-32 h-32 rounded-full border-4 border-primary/20 border-t-primary animate-spin\" />\r\n                        ) : (\r\n                            <>\r\n                                <div className=\"w-40 h-40 rounded-full border-8 border-gray-50 flex items-center justify-center relative\">\r\n                                    <div className=\"absolute inset-0 border-8 border-primary border-t-transparent border-r-transparent rounded-full rotate-45\" />\r\n                                    <div className=\"text-center\">\r\n                                        <p className=\"text-2xl font-black text-primary\">{Math.round((stats.delivered / stats.total) * 100) || 0}%</p>\r\n                                        <p className=\"text-[10px] uppercase font-bold text-muted-foreground\">Success Rate</p>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"grid grid-cols-2 gap-4 w-full\">\r\n                                    <div className=\"flex items-center gap-2\">\r\n                                        <div className=\"w-3 h-3 rounded-full bg-green-500\" />\r\n                                        <span className=\"text-xs font-medium\">Delivered ({stats.delivered})</span>\r\n                                    </div>\r\n                                    <div className=\"flex items-center gap-2\">\r\n                                        <div className=\"w-3 h-3 rounded-full bg-amber-500\" />\r\n                                        <span className=\"text-xs font-medium\">Pending ({stats.pending})</span>\r\n                                    </div>\r\n                                    <div className=\"flex items-center gap-2\">\r\n                                        <div className=\"w-3 h-3 rounded-full bg-red-500\" />\r\n                                        <span className=\"text-xs font-medium\">Failed ({stats.failed})</span>\r\n                                    </div>\r\n                                    <div className=\"flex items-center gap-2\">\r\n                                        <div className=\"w-3 h-3 rounded-full bg-primary\" />\r\n                                        <span className=\"text-xs font-medium\">Total ({stats.total})</span>\r\n                                    </div>\r\n                                </div>\r\n                            </>\r\n                        )}\r\n                    </CardContent>\r\n                </Card>\r\n            </div>\r\n        </motion.div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}