module.exports=[95913,a=>{"use strict";var b=a.i(68361),c=a.i(54590),d=a.i(35073),e=a.i(46221),f=a.i(71509),g=a.i(75055),h=a.i(37754),i=a.i(72063),j=a.i(13988),k=a.i(91926),l=a.i(49294),m=a.i(94231),n=a.i(76522),o=a.i(75088),p=a.i(82205),q=a.i(18449),r=a.i(27312),s=a.i(61467),t=a.i(43313),u=a.i(36405),v=a.i(76764),w=a.i(21045),x=a.i(81694),y=a.i(68987),z=a.i(64981),A=a.i(54549);let B=(0,z.default)(async()=>{},{loadableGenerated:{modules:[42250]},ssr:!1});function C(){let a=(0,d.useRouter)(),[z,C]=(0,c.useState)(0),[D,E]=(0,c.useState)([]),[F,G]=(0,c.useState)(""),[H,I]=(0,c.useState)(""),[J,K]=(0,c.useState)(null),[L,M]=(0,c.useState)(!1),[N,O]=(0,c.useState)(!1),[P,Q]=(0,c.useState)(!0),[R,S]=(0,c.useState)(1),[T,U]=(0,c.useState)(1),[V,W]=(0,c.useState)(null);(0,c.useEffect)(()=>{let a=async()=>{try{let a=await e.default.get("/settings/public");W(a.data)}catch(a){console.error("Failed to fetch settings",a)}};(async(a=1)=>{M(!0);try{let b=await e.default.get(`/wallet?page=${a}&_t=${Date.now()}`);C(b.data.balance),E(b.data.transactions.data),U(b.data.transactions.last_page)}catch(a){console.error(a)}finally{Q(!1),M(!1)}})(R),a()},[R]),(0,c.useEffect)(()=>{a.refresh()},[a]);let X=(0,c.useMemo)(()=>{if(!V||!F||isNaN(parseFloat(F)))return{amount:0,total:0};let a=parseFloat(F),b=V.charge_type,c=parseFloat(V.charge_value||"0"),d=0;return{amount:d="percentage"===b?c/100*a:c,total:a+d}},[V,F]),Y={reference:new Date().getTime().toString(),email:JSON.parse(localStorage.getItem("user")||"{}").email,amount:Math.round(100*X.total),publicKey:V?.paystack_public||"",currency:"GHS"},Z=b=>{let c=new URLSearchParams(b).toString();a.push(`/dashboard/wallet/callback?${c}`)},$=()=>{u.toast.info("Payment cancelled.")},_=async a=>{if(a.preventDefault(),!J)return void u.toast.error("Please upload proof of payment.");O(!0);let b=u.toast.loading("Submitting your deposit request...");try{let a=new FormData;a.append("amount",H),a.append("proof_image",J),await e.default.post("/deposits",a,{headers:{"Content-Type":"multipart/form-data"}}),u.toast.success("Deposit request submitted successfully! Pending admin approval.",{id:b}),I(""),K(null)}catch(c){let a=c.response?.data?.message||"Failed to submit deposit request.";u.toast.error(a,{id:b})}finally{O(!1)}};return P?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,b.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"}),(0,b.jsx)("p",{className:"text-muted-foreground font-medium animate-pulse",children:"Loading wallet information..."})]})}):(0,b.jsxs)("div",{className:"relative min-h-screen max-w-full overflow-x-hidden",children:[(0,b.jsx)("div",{className:"absolute top-[-10%] right-[-10%] w-[40%] h-[40%] bg-primary/5 rounded-full blur-[120px] pointer-events-none"}),(0,b.jsx)("div",{className:"absolute bottom-[20%] left-[-10%] w-[30%] h-[30%] bg-sky-500/5 rounded-full blur-[100px] pointer-events-none"}),(0,b.jsxs)(x.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-10 relative z-10",children:[(0,b.jsx)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-3xl font-extrabold tracking-tight text-slate-800 dark:text-slate-100",children:"My Wallet"}),(0,b.jsx)("p",{className:"text-muted-foreground font-medium",children:"Manage your funds and view transaction history."})]})}),(0,b.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,b.jsxs)(i.Card,{className:"border-none bg-primary text-primary-foreground overflow-hidden relative shadow-2xl shadow-primary/30 rounded-[2.5rem] group min-h-[250px]",children:[(0,b.jsx)("div",{className:"absolute right-[-20px] bottom-[-20px] opacity-20 group-hover:scale-110 group-hover:rotate-12 transition-transform duration-700",children:(0,b.jsx)(j.Wallet,{className:"w-64 h-64"})}),(0,b.jsx)(i.CardHeader,{className:"pt-10 px-10",children:(0,b.jsx)(i.CardTitle,{className:"text-xs font-black uppercase tracking-[0.3em] opacity-70",children:"Total Net Balance"})}),(0,b.jsxs)(i.CardContent,{className:"space-y-6 px-10 pb-12",children:[(0,b.jsxs)("div",{className:"text-5xl sm:text-7xl font-black tracking-tighter drop-shadow-sm",children:["GHS ",Number(z).toFixed(2)]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 bg-white/10 backdrop-blur-md w-fit px-5 py-2 rounded-2xl border border-white/10 shadow-lg",children:[(0,b.jsx)(p.ShieldCheck,{className:"w-4 h-4 text-sky-300"}),(0,b.jsx)("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"End-to-End Encrypted"})]})]})]}),(0,b.jsxs)(i.Card,{className:"border-none shadow-[0_8px_30px_rgb(0,0,0,0.04)] ring-1 ring-white/20 dark:ring-slate-800/50 rounded-[2.5rem] overflow-hidden bg-white/40 backdrop-blur-xl dark:bg-slate-900/40",children:[(0,b.jsxs)(i.CardHeader,{className:"pt-10 px-10",children:[(0,b.jsx)(i.CardTitle,{className:"text-2xl font-black tracking-tight text-slate-800 dark:text-slate-100",children:"Add Funds"}),(0,b.jsx)(i.CardDescription,{className:"font-bold text-slate-500/80",children:"Refill your balance instantly via Paystack"})]}),(0,b.jsx)(i.CardContent,{className:"px-10 pb-10",children:(0,b.jsxs)(t.Tabs,{defaultValue:"instant",className:"w-full",children:[(0,b.jsxs)(t.TabsList,{className:"grid w-full grid-cols-2 mb-8 h-12 p-1 bg-slate-100 dark:bg-slate-800 rounded-xl",children:[(0,b.jsxs)(t.TabsTrigger,{value:"instant",className:"rounded-lg font-bold transition-all data-[state=active]:bg-white dark:data-[state=active]:bg-slate-900 data-[state=active]:shadow-sm",children:[(0,b.jsx)(o.CreditCard,{className:"w-4 h-4 mr-2"})," Instant"]}),(0,b.jsxs)(t.TabsTrigger,{value:"manual",className:"rounded-lg font-bold transition-all data-[state=active]:bg-white dark:data-[state=active]:bg-slate-900 data-[state=active]:shadow-sm",children:[(0,b.jsx)(q.Landmark,{className:"w-4 h-4 mr-2"})," Manual"]})]}),(0,b.jsx)(t.TabsContent,{value:"instant",children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"amount",className:"text-xs font-black uppercase tracking-widest text-muted-foreground pl-1",children:"Amount to Credit"}),(0,b.jsxs)("div",{className:"relative group",children:[(0,b.jsx)("span",{className:"absolute left-5 top-1/2 -translate-y-1/2 font-black text-slate-400 group-focus-within:text-primary transition-colors",children:"GHS"}),(0,b.jsx)(g.Input,{id:"amount",type:"number",placeholder:"0.00",value:F,onChange:a=>G(a.target.value),required:!0,min:V?.min_payment||"1",max:V?.max_payment||"100000",className:"h-16 pl-16 text-2xl font-black bg-slate-50 dark:bg-slate-900 border-none focus-visible:ring-2 focus-visible:ring-primary/20 rounded-2xl transition-all"})]}),V&&(0,b.jsxs)("div",{className:"flex flex-col gap-2 px-1",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsxs)("p",{className:(0,w.cn)("text-[10px] font-bold italic",F&&(parseFloat(F)<V.min_payment||parseFloat(F)>V.max_payment)?"text-rose-500 animate-pulse":"text-muted-foreground"),children:["Min: GHS ",V.min_payment," | Max: GHS ",V.max_payment]}),F&&parseFloat(F)>0&&(0,b.jsx)("p",{className:"text-[10px] font-black text-primary uppercase tracking-widest",children:"Valid Amount"})]}),(0,b.jsxs)("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-900/50 p-3 rounded-xl flex items-start gap-3 mt-2",children:[(0,b.jsx)(p.ShieldCheck,{className:"w-4 h-4 text-amber-600 mt-0.5 shrink-0"}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-[10px] font-black uppercase tracking-widest text-amber-700 dark:text-amber-400",children:"Test Mode Active"}),(0,b.jsxs)("p",{className:"text-[10px] font-medium text-amber-600/80 leading-relaxed",children:["For testing, use the number ",(0,b.jsx)("span",{className:"font-bold underline",children:"0551234567"})," with any 6-digit PIN. Non-test numbers will be declined by Paystack."]})]})]})]})]}),(0,b.jsx)(y.AnimatePresence,{children:X.amount>0&&(0,b.jsxs)(x.motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"p-6 bg-primary/5 rounded-3xl space-y-3 border border-primary/10 backdrop-blur-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between text-[11px] font-black uppercase tracking-[0.2em]",children:[(0,b.jsx)("span",{className:"text-slate-500",children:"Gateway Fee"}),(0,b.jsxs)("span",{className:"text-primary",children:["+ GHS ",X.amount.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"flex justify-between items-end pt-4 border-t border-primary/10",children:[(0,b.jsx)("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 pb-1",children:"Total Debit"}),(0,b.jsxs)("span",{className:"text-2xl font-black text-slate-900 dark:text-slate-100 tracking-tighter",children:["GHS ",X.total?.toFixed(2)]})]})]})}),(0,b.jsx)(B,{config:Y,children:a=>(0,b.jsx)(f.Button,{type:"button",disabled:L||!F||parseFloat(F)<(V?.min_payment||1)||parseFloat(F)>(V?.max_payment||1e5),onClick:()=>{V?.paystack_public?a({onSuccess:Z,onClose:$}):u.toast.error("Payment system not configured correctly. Please contact support.")},className:"w-full h-14 shadow-xl shadow-primary/20 rounded-2xl font-black text-lg hover:translate-y-[-2px] transition-all",children:L?(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Wait..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(o.CreditCard,{className:"w-5 h-5 mr-2"}),"Continue to Payment"]})})})]})}),(0,b.jsx)(t.TabsContent,{value:"manual",children:(0,b.jsxs)("form",{onSubmit:_,className:"space-y-6",children:[(0,b.jsxs)("div",{className:"p-4 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-slate-200 dark:border-slate-800 space-y-3",children:[(0,b.jsx)("h4",{className:"text-[10px] font-black uppercase tracking-widest text-primary",children:"Bank Details"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-[10px] text-muted-foreground uppercase font-black tracking-tighter",children:"Bank Name"}),(0,b.jsx)("p",{className:"font-bold",children:V?.bank_name||"N/A"})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-[10px] text-muted-foreground uppercase font-black tracking-tighter",children:"Account Name"}),(0,b.jsx)("p",{className:"font-bold",children:V?.bank_account_name||"N/A"})]}),(0,b.jsxs)("div",{className:"col-span-2 space-y-1 pt-2 border-t border-slate-100 dark:border-slate-800",children:[(0,b.jsx)("p",{className:"text-[10px] text-muted-foreground uppercase font-black tracking-tighter",children:"Account Number"}),(0,b.jsx)("p",{className:"font-mono text-lg font-black tracking-widest text-primary",children:V?.bank_account_number||"N/A"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"manualAmount",className:"text-xs font-black uppercase tracking-widest text-muted-foreground pl-1",children:"Amount Sent"}),(0,b.jsxs)("div",{className:"relative group",children:[(0,b.jsx)("span",{className:"absolute left-5 top-1/2 -translate-y-1/2 font-black text-slate-400 group-focus-within:text-primary transition-colors",children:"GHS"}),(0,b.jsx)(g.Input,{id:"manualAmount",type:"number",placeholder:"0.00",value:H,onChange:a=>I(a.target.value),required:!0,className:"h-16 pl-16 text-2xl font-black bg-slate-50 dark:bg-slate-900 border-none focus-visible:ring-2 focus-visible:ring-primary/20 rounded-2xl transition-all"})]}),V&&(0,b.jsxs)("p",{className:(0,w.cn)("text-[10px] font-bold italic px-1 mt-1",H&&(parseFloat(H)<V.min_payment||parseFloat(H)>V.max_payment)?"text-rose-500 animate-pulse":"text-muted-foreground"),children:["Minimum: GHS ",V.min_payment]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{className:"text-xs font-black uppercase tracking-widest text-muted-foreground pl-1",children:"Proof of Transfer"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:"file",accept:"image/*",onChange:a=>K(a.target.files?.[0]||null),className:"hidden",id:"proof-upload",required:!0}),(0,b.jsx)("label",{htmlFor:"proof-upload",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-slate-200 dark:border-slate-800 rounded-3xl hover:border-primary transition-colors cursor-pointer bg-slate-50/50 dark:bg-slate-900/30",children:J?(0,b.jsxs)("div",{className:"flex items-center gap-2 text-primary font-bold",children:[(0,b.jsx)(s.CheckCircle2,{className:"w-5 h-5 text-emerald-500"}),J.name]}):(0,b.jsxs)("div",{className:"flex flex-col items-center gap-2 text-slate-400",children:[(0,b.jsx)(r.Upload,{className:"w-8 h-8 opacity-50"}),(0,b.jsx)("p",{className:"text-[10px] font-black uppercase tracking-widest",children:"Tap to upload proof"})]})})]})]}),(0,b.jsx)(f.Button,{type:"submit",disabled:N||!H||parseFloat(H)<(V?.min_payment||1),className:"w-full h-14 shadow-xl shadow-primary/20 rounded-2xl font-black text-lg",children:N?"Submitting...":"Submit Proof"})]})})]})})]})]}),(0,b.jsxs)(i.Card,{className:"border-none shadow-[0_8px_30px_rgb(0,0,0,0.04)] ring-1 ring-white/20 dark:ring-slate-800/50 rounded-[2.5rem] overflow-hidden bg-white/40 backdrop-blur-xl dark:bg-slate-900/40",children:[(0,b.jsxs)(i.CardHeader,{className:"flex flex-col sm:flex-row items-center justify-between gap-4 p-8 bg-white/30 dark:bg-slate-900/30 border-b border-white/20 dark:border-slate-800/50",children:[(0,b.jsxs)(i.CardTitle,{className:"text-xl font-black tracking-tight flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-primary/10 rounded-xl flex items-center justify-center text-primary",children:(0,b.jsx)(n.History,{className:"w-5 h-5"})}),"Transaction Logs"]}),(0,b.jsx)(f.Button,{asChild:!0,variant:"ghost",size:"sm",className:"font-black uppercase tracking-widest text-[10px] hover:bg-primary/10 rounded-xl",children:(0,b.jsxs)(v.default,{href:"/dashboard/transactions",children:["Extended History ",(0,b.jsx)(m.ArrowRight,{className:"w-3 h-3 ml-2"})]})})]}),(0,b.jsxs)(i.CardContent,{className:"p-0",children:[(0,b.jsx)("div",{className:"relative overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-sm text-left border-collapse",children:[(0,b.jsx)("thead",{className:"text-[10px] text-muted-foreground uppercase bg-slate-50/30 dark:bg-slate-800/30 border-b border-white/20 dark:border-slate-800/50",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-8 py-5 font-black tracking-widest",children:"Type"}),(0,b.jsx)("th",{className:"px-8 py-5 font-black tracking-widest hidden sm:table-cell",children:"Reference ID"}),(0,b.jsx)("th",{className:"px-8 py-5 font-black tracking-widest",children:"Details"}),(0,b.jsx)("th",{className:"px-8 py-5 font-black tracking-widest text-right",children:"Value"}),(0,b.jsx)("th",{className:"px-8 py-5 font-black tracking-widest text-right hidden md:table-cell",children:"Timestamp"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-slate-100/50 dark:divide-slate-800/50",children:0===D.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:5,className:"px-8 py-32 text-center",children:(0,b.jsxs)("div",{className:"flex flex-col items-center gap-4 opacity-20",children:[(0,b.jsx)(n.History,{className:"w-20 h-20"}),(0,b.jsx)("p",{className:"font-black uppercase tracking-[0.2em] text-sm",children:"Quiet as a mouse"})]})})}):D.slice(0,5).map(a=>(0,b.jsxs)("tr",{className:"hover:bg-primary/[0.02] transition-colors group/row",children:[(0,b.jsx)("td",{className:"px-8 py-6",children:(0,b.jsx)("div",{className:(0,w.cn)("w-10 h-10 rounded-xl flex items-center justify-center transition-transform group-hover/row:scale-110 shadow-sm","credit"===a.type?"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-rose-100 text-rose-600 dark:bg-rose-900/30 dark:text-rose-400"),children:"credit"===a.type?(0,b.jsx)(k.ArrowDownRight,{className:"w-5 h-5"}):(0,b.jsx)(l.ArrowUpRight,{className:"w-5 h-5"})})}),(0,b.jsx)("td",{className:"px-8 py-6 hidden sm:table-cell",children:(0,b.jsx)("p",{className:"font-mono text-xs font-black text-slate-400 tracking-tighter group-hover/row:text-primary transition-colors uppercase",children:a.reference.split("-")[0]})}),(0,b.jsxs)("td",{className:"px-8 py-6",children:[(0,b.jsx)("p",{className:"font-black text-slate-800 dark:text-slate-200 tracking-tight",children:a.description||("credit"===a.type?"Inward Transfer":"Bundle Settlement")}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,b.jsx)("div",{className:(0,w.cn)("w-1.5 h-1.5 rounded-full animate-pulse","success"===a.status?"bg-emerald-500":"pending"===a.status?"bg-amber-500":"bg-rose-500")}),(0,b.jsx)("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:a.status})]}),(0,b.jsx)("p",{className:"text-[10px] font-bold text-slate-400 mt-1 md:hidden",children:new Date(a.created_at).toLocaleDateString()})]}),(0,b.jsx)("td",{className:"px-8 py-6 text-right",children:(0,b.jsxs)("span",{className:(0,w.cn)("font-black text-sm sm:text-xl tracking-tighter","credit"===a.type?"text-emerald-600 dark:text-emerald-400":"text-slate-900 dark:text-white"),children:["credit"===a.type?"+":"-"," â‚µ",Number(a.amount).toFixed(2)]})}),(0,b.jsxs)("td",{className:"px-8 py-6 text-right hidden md:table-cell",children:[(0,b.jsx)("p",{className:"font-bold text-slate-400 text-sm",children:new Date(a.created_at).toLocaleDateString(void 0,{day:"2-digit",month:"short"})}),(0,b.jsx)("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-300",children:new Date(a.created_at).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"})})]})]},a.id))})]})}),(0,b.jsx)(A.Pagination,{currentPage:R,totalPages:T,onPageChange:S,isLoading:L})]})]})]})]})}a.s(["default",()=>C])}];

//# sourceMappingURL=Desktop_Projects_Megaai_frontend_src_app_dashboard_wallet_page_tsx_29e4d90b._.js.map