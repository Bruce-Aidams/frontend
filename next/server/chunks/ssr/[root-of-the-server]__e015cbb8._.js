module.exports=[24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},46221,a=>{"use strict";let b=a.i(79566).default.create({baseURL:"http://localhost:8000/api",headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});b.interceptors.request.use(a=>(console.log(`[Axios Request] ${a.method?.toUpperCase()} ${a.url}`,{hasToken:!1,headers:a.headers}),a)),b.interceptors.response.use(a=>(console.log(`[Axios Response] ${a.status} ${a.config.url}`,a.data),a),a=>(console.error(`[Axios Error] ${a.response?.status} ${a.config?.url}`,a.response?.data),a.response?.status===503&&a.response?.data?.maintenance,a.response?.status===401||a.response?.status,Promise.reject(a))),a.s(["default",0,b])},72063,a=>{"use strict";var b=a.i(68361),c=a.i(21045);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}function i({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-footer",className:(0,c.cn)("flex items-center px-6 [.border-t]:pt-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardFooter",()=>i,"CardHeader",()=>e,"CardTitle",()=>f])},9964,a=>{"use strict";var b=a.i(54590);function c(a){let c=b.useRef({value:a,previous:a});return b.useMemo(()=>(c.current.value!==a&&(c.current.previous=c.current.value,c.current.value=a),c.current.previous),[a])}a.s(["usePrevious",()=>c])},28618,a=>{"use strict";let b=(0,a.i(24877).default)("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);a.s(["Smartphone",()=>b],28618)},66229,a=>{"use strict";let b=(0,a.i(24877).default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);a.s(["Info",()=>b],66229)},89896,a=>{"use strict";var b=a.i(68361),c=a.i(54590),d=a.i(46221),e=a.i(71509),f=a.i(75055),g=a.i(76764),h=a.i(4806),i=a.i(72063),j=a.i(35073),k=a.i(36405),l=a.i(34384),m=a.i(28618),n=a.i(66229),o=a.i(21045),p=a.i(81694),q=a.i(9381);function r(){let[a,r]=(0,c.useState)([]),[s,t]=(0,c.useState)(""),[u,v]=(0,c.useState)(""),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)(!1);(0,j.useRouter)();let{addToCart:A,cartItems:B}=(0,q.useCart)(),[C,D]=(0,c.useState)([]),E=a=>{switch(a.toUpperCase()){case"MTN":return"024, 054, 055, 059, 053, 025";case"TELECEL":return"020, 050";case"AIRTELTIGO":return"027, 057, 026, 056";default:return""}};(0,c.useEffect)(()=>{d.default.get("/products").then(a=>r(a.data)),d.default.get("/networks").then(a=>D(a.data))},[]);let F=a.filter(a=>!s||a.network.toLowerCase()===s.toLowerCase()),G=async b=>{if(b.preventDefault(),!s)return void k.toast.error("Please select a network first.");let c=a.find(a=>String(a.id)===u);c&&(10!==w.replace(/\D/g,"").length?k.toast.error("Phone number must be exactly 10 digits."):E(s).split(", ").map(a=>a.trim()).some(a=>w.startsWith(a))?(A({bundle_id:c.id,bundle_name:c.name,network:c.network,price:c.price,recipient_phone:w}),k.toast.success("Added to cart!"),x(""),v("")):k.toast.error(`Invalid phone number for ${s}. Expected prefixes: ${E(s)}`))},H=a.find(a=>String(a.id)===u);return(0,b.jsxs)(p.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-4xl mx-auto space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center text-primary",children:(0,b.jsx)(l.ShoppingCart,{className:"w-6 h-6"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:"Buy Data Bundle"}),(0,b.jsx)("p",{className:"text-muted-foreground font-medium",children:"Select a package and enter recipient details."})]})]}),B.length>0&&(0,b.jsx)(e.Button,{asChild:!0,variant:"outline",className:"relative shadow-sm border-primary/20 bg-primary/5 text-primary rounded-xl",children:(0,b.jsxs)(g.default,{href:"/dashboard/cart",children:[(0,b.jsx)(l.ShoppingCart,{className:"w-4 h-4 mr-2"}),"View Cart",(0,b.jsx)("span",{className:"absolute -top-2 -right-2 bg-primary text-white text-[10px] font-bold w-5 h-5 rounded-full flex items-center justify-center animate-bounce",children:B.length})]})})]}),(0,b.jsxs)("div",{className:"grid gap-6 md:grid-cols-5",children:[(0,b.jsx)("div",{className:"md:col-span-3",children:(0,b.jsxs)(i.Card,{className:"sneat-card border-none shadow-sm h-full",children:[(0,b.jsxs)(i.CardHeader,{children:[(0,b.jsx)(i.CardTitle,{className:"text-lg",children:"Order Details"}),(0,b.jsx)(i.CardDescription,{children:"Follow the steps to add a bundle to your cart."})]}),(0,b.jsx)(i.CardContent,{children:(0,b.jsxs)("form",{onSubmit:G,className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("label",{className:"text-sm font-semibold flex items-center gap-2 text-gray-700",children:[(0,b.jsx)("div",{className:"w-6 h-6 bg-gray-100 rounded-md flex items-center justify-center text-[10px] font-bold",children:"1"}),"Select Network"]}),(0,b.jsx)("div",{className:"grid grid-cols-3 gap-3",children:C.map(a=>(0,b.jsx)("button",{type:"button",onClick:()=>{t(a),v("")},className:(0,o.cn)("py-3 px-2 rounded-xl border-2 transition-all flex flex-col items-center gap-1",s===a?"border-primary bg-primary/5 text-primary":"border-gray-100 bg-gray-50 text-muted-foreground hover:border-gray-200"),children:(0,b.jsx)("span",{className:"text-xs font-bold uppercase",children:a})},a))})]}),(0,b.jsxs)("div",{className:(0,o.cn)("space-y-2 transition-all duration-300",!s&&"opacity-50 pointer-events-none"),children:[(0,b.jsxs)("label",{className:"text-sm font-semibold flex items-center gap-2 text-gray-700",children:[(0,b.jsx)("div",{className:"w-6 h-6 bg-gray-100 rounded-md flex items-center justify-center text-[10px] font-bold",children:"2"}),"Select Data Bundle"]}),(0,b.jsxs)(h.Select,{value:u,onValueChange:v,disabled:!s,children:[(0,b.jsx)(h.SelectTrigger,{className:"h-12 bg-gray-50 border-gray-100 rounded-xl focus:ring-primary/20",children:(0,b.jsx)(h.SelectValue,{placeholder:s?`Choose an ${s} package...`:"Select a network first"})}),(0,b.jsxs)(h.SelectContent,{className:"rounded-xl border-gray-100 shadow-xl",children:[F.map(a=>(0,b.jsx)(h.SelectItem,{value:String(a.id),className:"rounded-lg py-3",children:(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("span",{className:"font-bold",children:a.name}),(0,b.jsxs)("span",{className:"text-[10px] text-primary",children:["GHS ",Number(a.price).toFixed(2)]})]})},a.id)),0===F.length&&s&&(0,b.jsx)("div",{className:"p-3 text-center text-xs text-muted-foreground italic",children:"No bundles available for this network yet."})]})]})]}),(0,b.jsxs)("div",{className:(0,o.cn)("space-y-2 transition-all duration-300",!u&&"opacity-50 pointer-events-none"),children:[(0,b.jsxs)("label",{className:"text-sm font-semibold flex items-center gap-2 text-gray-700",children:[(0,b.jsx)("div",{className:"w-6 h-6 bg-gray-100 rounded-md flex items-center justify-center text-[10px] font-bold",children:"3"}),"Recipient Phone Number"]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(f.Input,{placeholder:"e.g. 0541234567",value:w,onChange:a=>x(a.target.value),disabled:!u,className:"h-12 bg-gray-50 border-gray-100 rounded-xl focus:ring-primary/20 pr-10"}),(0,b.jsx)(m.Smartphone,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})]}),s&&(0,b.jsxs)("p",{className:"text-[10px] text-muted-foreground px-1 bg-primary/5 py-1 rounded-md border border-primary/10",children:[(0,b.jsx)("span",{className:"font-bold text-primary mr-1",children:"Hint:"}),"Valid ",s," prefixes: ",(0,b.jsx)("span",{className:"text-gray-900 font-bold",children:E(s)})]})]}),(0,b.jsxs)(e.Button,{type:"submit",disabled:!u||!w,className:"w-full h-14 text-lg shadow-lg shadow-primary/20 transition-all active:scale-[0.98] rounded-2xl font-bold group",children:[(0,b.jsx)(l.ShoppingCart,{className:"w-5 h-5 mr-2 group-hover:animate-bounce"}),"Add Bundle to Cart"]})]})})]})}),(0,b.jsxs)("div",{className:"md:col-span-2 space-y-6",children:[(0,b.jsxs)(i.Card,{className:"sneat-card border-none bg-primary text-primary-foreground overflow-hidden relative shadow-lg shadow-primary/20 min-h-[250px] flex flex-col justify-center",children:[(0,b.jsx)("div",{className:"absolute right-[-20px] bottom-[-20px] opacity-10",children:(0,b.jsx)(l.ShoppingCart,{className:"w-40 h-40"})}),(0,b.jsx)(i.CardHeader,{className:"pb-2",children:(0,b.jsx)(i.CardTitle,{className:"text-sm font-bold uppercase tracking-widest opacity-80",children:"Live Preview"})}),(0,b.jsx)(i.CardContent,{className:"space-y-4 relative z-10",children:(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-white/20",children:[(0,b.jsx)("span",{className:"text-xs opacity-70",children:"Provider"}),(0,b.jsx)("span",{className:"font-bold",children:s||"---"})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-white/20",children:[(0,b.jsx)("span",{className:"text-xs opacity-70",children:"Service"}),(0,b.jsx)("span",{className:"font-bold truncate max-w-[150px]",children:H?.name||"---"})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-white/20",children:[(0,b.jsx)("span",{className:"text-xs opacity-70",children:"Destination"}),(0,b.jsx)("span",{className:"font-bold font-mono",children:w||"---"})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center pt-6",children:[(0,b.jsx)("span",{className:"text-sm font-bold opacity-80",children:"Amount Due"}),(0,b.jsxs)("span",{className:"text-3xl font-black",children:["GHS ",H?.price?Number(H.price).toFixed(2):"0.00"]})]})]})})]}),(0,b.jsx)(i.Card,{className:"sneat-card border-none bg-white shadow-sm",children:(0,b.jsxs)(i.CardContent,{className:"p-5 flex gap-4",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-blue-50 rounded-xl flex items-center justify-center text-blue-500 shrink-0",children:(0,b.jsx)(n.Info,{className:"w-5 h-5"})}),(0,b.jsxs)("div",{className:"text-xs text-gray-600 leading-relaxed",children:[(0,b.jsx)("p",{className:"font-bold text-gray-900 mb-1",children:"Before you proceed"}),"Please double-check the recipient's phone number. Data bundles cannot be reversed once processed onto a wrong number."]})]})})]})]})]})}a.s(["default",()=>r])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__e015cbb8._.js.map