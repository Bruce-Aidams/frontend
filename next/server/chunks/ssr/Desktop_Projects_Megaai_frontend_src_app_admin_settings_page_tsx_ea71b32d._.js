module.exports=[9086,a=>{"use strict";var b=a.i(68361),c=a.i(54590),d=a.i(46221),e=a.i(72063),f=a.i(75055),g=a.i(37754),h=a.i(71509),i=a.i(62404),j=a.i(43313),k=a.i(62651),l=a.i(56207),m=a.i(81936),n=a.i(41736),o=a.i(93973),p=a.i(36925),q=a.i(64109),r=a.i(11088),s=a.i(45846),t=a.i(99922),u=a.i(22181);function v(){let[a,e]=(0,c.useState)([]),[f,g]=(0,c.useState)(!0),[h,i]=(0,c.useState)(1),[j,k]=(0,c.useState)(1);(0,c.useEffect)(()=>{l(h)},[h]);let l=async a=>{g(!0);try{let b=await d.default.get(`/admin/login-activities?page=${a}`);e(b.data.data),k(b.data.last_page)}catch(a){console.error(a)}finally{g(!1)}};return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"rounded-md border",children:(0,b.jsxs)(r.Table,{children:[(0,b.jsx)(r.TableHeader,{children:(0,b.jsxs)(r.TableRow,{children:[(0,b.jsx)(r.TableHead,{children:"User"}),(0,b.jsx)(r.TableHead,{children:"IP Address"}),(0,b.jsx)(r.TableHead,{children:"User Agent"}),(0,b.jsx)(r.TableHead,{className:"text-right",children:"Time"})]})}),(0,b.jsx)(r.TableBody,{children:f?(0,b.jsx)(r.TableRow,{children:(0,b.jsx)(r.TableCell,{colSpan:4,className:"p-0",children:(0,b.jsx)(s.TableSkeleton,{columns:4,rows:10})})}):0===a.length?(0,b.jsx)(r.TableRow,{children:(0,b.jsx)(r.TableCell,{colSpan:4,className:"text-center h-24",children:"No activities found."})}):a.map(a=>(0,b.jsxs)(r.TableRow,{children:[(0,b.jsxs)(r.TableCell,{children:[(0,b.jsx)("div",{className:"font-medium",children:a.user?.name}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:a.user?.email})]}),(0,b.jsx)(r.TableCell,{children:(0,b.jsx)(u.Badge,{variant:"secondary",className:"font-mono",children:a.ip_address})}),(0,b.jsx)(r.TableCell,{className:"max-w-[200px] truncate text-xs text-muted-foreground",title:a.user_agent,children:a.user_agent}),(0,b.jsx)(r.TableCell,{className:"text-right",children:(0,t.format)(new Date(a.created_at),"PPP p")})]},a.id))})]})}),(0,b.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,b.jsx)("button",{disabled:h<=1||f,onClick:()=>i(a=>a-1),className:"px-3 py-1 text-sm border rounded hover:bg-slate-100 disabled:opacity-50",children:"Previous"}),(0,b.jsxs)("span",{className:"text-sm self-center",children:["Page ",h," of ",j]}),(0,b.jsx)("button",{disabled:h>=j||f,onClick:()=>i(a=>a+1),className:"px-3 py-1 text-sm border rounded hover:bg-slate-100 disabled:opacity-50",children:"Next"})]})]})}function w(){let[a,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)({site_name:"",support_email:"",maintenance_mode:!1,paystack_public:"",paystack_secret:"",email_alerts_order:!1,sms_alerts_system:!1,min_payment:"1",max_payment:"50000",charge_type:"percentage",charge_value:"0",bank_name:"",bank_account_name:"",bank_account_number:""}),[u,w]=(0,c.useState)(!1);(0,c.useEffect)(()=>{d.default.get("/admin/settings").then(a=>{let b=a.data,c={...s};Object.keys(s).forEach(a=>{void 0!==b[a]&&(c[a]=b[a]??("boolean"!=typeof s[a]&&""))}),t(c)}).catch(a=>{console.error("Failed to load settings",a),a.response?.status})},[]);let x=(a,b)=>{t(c=>({...c,[a]:b}))},y=async()=>{w(!0);try{let a=Object.entries(s).reduce((a,[b,c])=>(a[b]="boolean"==typeof c?c?"1":"0":c,a),{});await d.default.post("/admin/settings",{settings:a}),alert("Settings saved successfully!")}catch(a){alert("Failed to save settings.")}finally{w(!1)}};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold tracking-tight text-slate-800 dark:text-slate-100",children:"Settings"}),(0,b.jsxs)(j.Tabs,{defaultValue:"general",className:"w-full",children:[(0,b.jsxs)(j.TabsList,{className:"mb-4",children:[(0,b.jsxs)(j.TabsTrigger,{value:"general",className:"gap-2",children:[(0,b.jsx)(o.Globe,{className:"w-4 h-4"})," General"]}),(0,b.jsxs)(j.TabsTrigger,{value:"security",className:"gap-2",children:[(0,b.jsx)(n.Shield,{className:"w-4 h-4"})," Security & APIs"]}),(0,b.jsxs)(j.TabsTrigger,{value:"financials",className:"gap-2",children:[(0,b.jsx)(p.DollarSign,{className:"w-4 h-4"})," Financials"]}),(0,b.jsxs)(j.TabsTrigger,{value:"logs",className:"gap-2",children:[(0,b.jsx)(q.Activity,{className:"w-4 h-4"})," Logs & Cleanup"]})]}),(0,b.jsx)(j.TabsContent,{value:"general",children:(0,b.jsxs)(e.Card,{className:"border-none shadow-[0_2px_10px_0_rgba(67,89,113,0.12)]",children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{children:"General Configuration"}),(0,b.jsx)(e.CardDescription,{children:"Manage your site basic information."})]}),(0,b.jsxs)(e.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{htmlFor:"site_name",children:"Site Name"}),(0,b.jsx)(f.Input,{id:"site_name",value:s.site_name,onChange:a=>x("site_name",a.target.value)})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{htmlFor:"support_email",children:"Support Email"}),(0,b.jsx)(f.Input,{id:"support_email",type:"email",value:s.support_email,onChange:a=>x("support_email",a.target.value)})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between rounded-lg border p-4 shadow-xs",children:[(0,b.jsxs)("div",{className:"space-y-0.5",children:[(0,b.jsx)(g.Label,{className:"text-base",children:"Maintenance Mode"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Disable access to the site for maintenance."})]}),(0,b.jsx)(i.Switch,{checked:!!Number(s.maintenance_mode),onCheckedChange:a=>x("maintenance_mode",a)})]})]}),(0,b.jsx)(e.CardFooter,{children:(0,b.jsx)(h.Button,{className:"gap-2",onClick:y,disabled:u,children:u?"Saving...":(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m.Save,{className:"w-4 h-4"})," Save Changes"]})})})]})}),(0,b.jsx)(j.TabsContent,{value:"security",children:(0,b.jsxs)(e.Card,{className:"border-none shadow-[0_2px_10px_0_rgba(67,89,113,0.12)]",children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{children:"API Configuration"}),(0,b.jsx)(e.CardDescription,{children:"Manage third-party API keys and secrets."})]}),(0,b.jsx)(e.CardContent,{className:"space-y-6",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"text-sm font-medium text-muted-foreground",children:"Paystack Settings"}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{htmlFor:"paystack_public",children:"Public Key"}),(0,b.jsx)(f.Input,{id:"paystack_public",placeholder:"pk_test_...",value:s.paystack_public,onChange:a=>x("paystack_public",a.target.value)})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{htmlFor:"paystack_secret",children:"Secret Key"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(f.Input,{id:"paystack_secret",type:a?"text":"password",placeholder:"sk_test_...",value:s.paystack_secret,onChange:a=>x("paystack_secret",a.target.value),className:"pr-10"}),(0,b.jsx)("button",{onClick:()=>r(!a),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",type:"button",children:a?(0,b.jsx)(l.EyeOff,{className:"w-4 h-4"}):(0,b.jsx)(k.Eye,{className:"w-4 h-4"})})]})]})]})}),(0,b.jsx)(e.CardFooter,{children:(0,b.jsx)(h.Button,{className:"gap-2",onClick:y,disabled:u,children:u?"Saving...":(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m.Save,{className:"w-4 h-4"})," Update Keys"]})})})]})}),(0,b.jsx)(j.TabsContent,{value:"financials",children:(0,b.jsxs)(e.Card,{className:"border-none shadow-[0_2px_10px_0_rgba(67,89,113,0.12)]",children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{children:"Financial Settings"}),(0,b.jsx)(e.CardDescription,{children:"Set limits and transaction charges."})]}),(0,b.jsxs)(e.CardContent,{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{htmlFor:"min_payment",children:"Minimum Payment (GHS)"}),(0,b.jsx)(f.Input,{id:"min_payment",type:"number",value:s.min_payment,onChange:a=>x("min_payment",a.target.value)})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{htmlFor:"max_payment",children:"Maximum Payment (GHS)"}),(0,b.jsx)(f.Input,{id:"max_payment",type:"number",value:s.max_payment,onChange:a=>x("max_payment",a.target.value)})]})]}),(0,b.jsxs)("div",{className:"p-4 bg-slate-50 dark:bg-slate-900 rounded-xl space-y-4",children:[(0,b.jsx)("h3",{className:"text-sm font-bold uppercase tracking-wider text-primary",children:"Charges Management"}),(0,b.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{children:"Charge Type"}),(0,b.jsxs)("select",{value:s.charge_type,onChange:a=>x("charge_type",a.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[(0,b.jsx)("option",{value:"percentage",children:"Percentage (%)"}),(0,b.jsx)("option",{value:"fixed",children:"Fixed Amount (GHS)"})]})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{children:"Charge Value"}),(0,b.jsx)(f.Input,{type:"number",value:s.charge_value,onChange:a=>x("charge_value",a.target.value)})]})]}),(0,b.jsx)("p",{className:"text-[10px] text-muted-foreground italic",children:"* These charges are added to the total amount the user pays through Paystack or Wallet top-up."})]}),(0,b.jsxs)("div",{className:"p-4 bg-primary/5 rounded-xl border border-primary/10 space-y-4",children:[(0,b.jsx)("h3",{className:"text-sm font-bold uppercase tracking-wider text-primary",children:"Bank Details (Manual Deposits)"}),(0,b.jsxs)("div",{className:"grid gap-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{htmlFor:"bank_name",children:"Bank Name"}),(0,b.jsx)(f.Input,{id:"bank_name",value:s.bank_name,onChange:a=>x("bank_name",a.target.value),placeholder:"e.g. GCB Bank, Mobile Money"})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{htmlFor:"bank_account_name",children:"Account Name"}),(0,b.jsx)(f.Input,{id:"bank_account_name",value:s.bank_account_name,onChange:a=>x("bank_account_name",a.target.value),placeholder:"e.g. MEGA AI SOLUTIONS"})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{htmlFor:"bank_account_number",children:"Account Number"}),(0,b.jsx)(f.Input,{id:"bank_account_number",value:s.bank_account_number,onChange:a=>x("bank_account_number",a.target.value),placeholder:"e.g. 0123456789"})]})]})]}),(0,b.jsx)("p",{className:"text-[10px] text-muted-foreground italic",children:"* These details will be shown to users when they choose the manual deposit option."})]})]}),(0,b.jsx)(e.CardFooter,{children:(0,b.jsx)(h.Button,{className:"gap-2",onClick:y,disabled:u,children:u?"Saving...":(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m.Save,{className:"w-4 h-4"})," Save Financials"]})})})]})}),(0,b.jsx)(j.TabsContent,{value:"notifications",children:(0,b.jsxs)(e.Card,{className:"border-none shadow-[0_2px_10px_0_rgba(67,89,113,0.12)]",children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{children:"Notification Settings"}),(0,b.jsx)(e.CardDescription,{children:"Configure how the system sends alerts."})]}),(0,b.jsxs)(e.CardContent,{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[(0,b.jsxs)("div",{className:"space-y-0.5",children:[(0,b.jsx)(g.Label,{className:"text-base",children:"Email Alerts (Orders)"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Receive emails for new orders."})]}),(0,b.jsx)(i.Switch,{checked:!!Number(s.email_alerts_order),onCheckedChange:a=>x("email_alerts_order",a)})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[(0,b.jsxs)("div",{className:"space-y-0.5",children:[(0,b.jsx)(g.Label,{className:"text-base",children:"SMS Alerts (Systems)"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Receive critical system alerts via SMS."})]}),(0,b.jsx)(i.Switch,{checked:!!Number(s.sms_alerts_system),onCheckedChange:a=>x("sms_alerts_system",a)})]})]}),(0,b.jsx)(e.CardFooter,{children:(0,b.jsx)(h.Button,{className:"gap-2",onClick:y,disabled:u,children:u?"Saving...":(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m.Save,{className:"w-4 h-4"})," Save Preferences"]})})})]})}),(0,b.jsx)(j.TabsContent,{value:"logs",children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)(e.Card,{className:"border-none shadow-[0_2px_10px_0_rgba(67,89,113,0.12)] border-l-4 border-l-red-500",children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{className:"text-red-500",children:"Danger Zone: Cleanup"}),(0,b.jsx)(e.CardDescription,{children:"Irreversible actions. Proceed with caution."})]}),(0,b.jsx)(e.CardContent,{children:(0,b.jsxs)("div",{className:"flex items-end gap-4 p-4 border border-red-100 bg-red-50/50 rounded-lg",children:[(0,b.jsxs)("div",{className:"grid gap-2 w-full max-w-xs",children:[(0,b.jsx)(g.Label,{children:"Delete Completed Orders Older Than (Days)"}),(0,b.jsx)(f.Input,{type:"number",placeholder:"e.g. 30",id:"cleanup_days"})]}),(0,b.jsx)(h.Button,{variant:"destructive",onClick:async()=>{let a=document.getElementById("cleanup_days").value;if(!a)return alert("Please enter days");if(confirm(`Are you sure you want to delete orders older than ${a} days?`))try{let b=await d.default.post("/admin/delete-old-orders",{days:parseInt(a)});alert(b.data.message)}catch(a){alert("Failed to delete orders.")}},children:"Delete Estimates"})]})})]}),(0,b.jsxs)(e.Card,{className:"border-none shadow-[0_2px_10px_0_rgba(67,89,113,0.12)]",children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{children:"User Login Activities"}),(0,b.jsx)(e.CardDescription,{children:"Recent login sessions from all users."})]}),(0,b.jsx)(e.CardContent,{children:(0,b.jsx)(v,{})})]})]})})]})]})}a.s(["default",()=>w],9086)}];

//# sourceMappingURL=Desktop_Projects_Megaai_frontend_src_app_admin_settings_page_tsx_ea71b32d._.js.map