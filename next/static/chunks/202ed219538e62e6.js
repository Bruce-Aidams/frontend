(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,5205,e=>{"use strict";let t=e.i(70001).default.create({baseURL:"http://localhost:8000/api",headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});t.interceptors.request.use(e=>{let t=localStorage.getItem("token");return console.log(`[Axios Request] ${e.method?.toUpperCase()} ${e.url}`,{hasToken:!!t,headers:e.headers}),t&&(e.headers.Authorization=`Bearer ${t}`),e}),t.interceptors.response.use(e=>(console.log(`[Axios Response] ${e.status} ${e.config.url}`,e.data),e),e=>{if(console.error(`[Axios Error] ${e.response?.status} ${e.config?.url}`,e.response?.data),e.response?.status===503&&e.response?.data?.maintenance&&"/maintenance"!==window.location.pathname&&(window.location.href="/maintenance"),e.response?.status===401||e.response?.status===403){let t=e.response?.status===403,a=e.response?.data?.message||(t?"Access Forbidden":"Unauthorized");(e.response?.status===401||t&&!window.location.pathname.startsWith("/admin"))&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.pathname.startsWith("/auth")||(window.location.href="/auth/login?error="+encodeURIComponent(a)))}return Promise.reject(e)}),e.s(["default",0,t])},37049,e=>{"use strict";let t=(0,e.i(43306).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],37049)},52500,e=>{"use strict";let t=(0,e.i(43306).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>t],52500)},2502,e=>{"use strict";let t=(0,e.i(43306).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],2502)},44495,e=>{"use strict";var t=e.i(83036),a=e.i(56770),s=e.i(45989),r=e.i(42414),i=e.i(5205),l=e.i(51428),o=e.i(2502),c=e.i(37049),n=e.i(52500),d=e.i(37323),m=e.i(14413);function u(){let e,u,h,p,x,f,g,y,k,w=(0,a.c)(25),b=(0,r.useSearchParams)(),j=(0,r.useRouter)(),{clearCart:N}=(0,m.useCart)(),[v,C]=(0,s.useState)("loading"),[S,R]=(0,s.useState)("Verifying payment...");w[0]!==b?(e=b.get("reference")||b.get("trxref"),w[0]=b,w[1]=e):e=w[1];let A=e;return w[2]!==N||w[3]!==A||w[4]!==j||w[5]!==b?(u=()=>{if(!A){C("error"),R("No payment reference found.");return}(async()=>{try{let e=await i.default.get(`/paystack/verify?${b.toString()}`);e.data.message&&(C("success"),R(e.data.message),l.toast.success(e.data.message),N(),setTimeout(()=>{j.push(e.data.redirect_url||"/dashboard/wallet")},3e3))}catch(t){C("error");let e=t.response?.data?.message||"Verification failed.";R(e),l.toast.error(e)}})()},w[2]=N,w[3]=A,w[4]=j,w[5]=b,w[6]=u):u=w[6],w[7]!==A||w[8]!==j?(h=[A,j],w[7]=A,w[8]=j,w[9]=h):h=w[9],(0,s.useEffect)(u,h),w[10]===Symbol.for("react.memo_cache_sentinel")?(p={scale:.8,opacity:0},x={scale:1,opacity:1},w[10]=p,w[11]=x):(p=w[10],x=w[11]),w[12]!==v?(f="loading"===v&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"relative w-20 h-20 mx-auto",children:[(0,t.jsx)(o.Loader2,{className:"w-20 h-20 text-primary animate-spin"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-primary/10 rounded-full blur-xl animate-pulse"})]}),(0,t.jsx)("h2",{className:"text-2xl font-black tracking-tight",children:"Verifying Payment"}),(0,t.jsx)("p",{className:"text-muted-foreground font-medium italic",children:"Please don't close this page while we confirm your transaction..."})]}),w[12]=v,w[13]=f):f=w[13],w[14]!==S||w[15]!==v?(g="success"===v&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-emerald-100 dark:bg-emerald-900/30 rounded-full flex items-center justify-center mx-auto shadow-lg shadow-emerald-500/20",children:(0,t.jsx)(c.CheckCircle2,{className:"w-12 h-12 text-emerald-600 dark:text-emerald-400"})}),(0,t.jsx)("h2",{className:"text-2xl font-black tracking-tight text-slate-800 dark:text-slate-100",children:"Payment Successful!"}),(0,t.jsx)("p",{className:"text-muted-foreground font-medium",children:S}),(0,t.jsx)("p",{className:"text-xs font-bold text-primary uppercase tracking-[0.2em] animate-pulse",children:"Redirecting you back..."})]}),w[14]=S,w[15]=v,w[16]=g):g=w[16],w[17]!==S||w[18]!==j||w[19]!==v?(y="error"===v&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-rose-100 dark:bg-rose-900/30 rounded-full flex items-center justify-center mx-auto shadow-lg shadow-rose-500/20",children:(0,t.jsx)(n.XCircle,{className:"w-12 h-12 text-rose-600 dark:text-rose-400"})}),(0,t.jsx)("h2",{className:"text-2xl font-black tracking-tight text-slate-800 dark:text-slate-100",children:"Verification Error"}),(0,t.jsx)("p",{className:"text-muted-foreground font-medium",children:S}),(0,t.jsx)("button",{onClick:()=>j.push("/dashboard/wallet"),className:"w-full h-14 bg-slate-900 dark:bg-primary text-white rounded-2xl font-black text-sm uppercase tracking-widest hover:scale-105 transition-transform",children:"Return to Wallet"})]}),w[17]=S,w[18]=j,w[19]=v,w[20]=y):y=w[20],w[21]!==f||w[22]!==g||w[23]!==y?(k=(0,t.jsx)("div",{className:"flex flex-col items-center justify-center min-h-[70vh] p-4 text-center",children:(0,t.jsxs)(d.motion.div,{initial:p,animate:x,className:"max-w-md w-full bg-white dark:bg-slate-900 p-10 rounded-[2.5rem] shadow-2xl border border-slate-100 dark:border-slate-800",children:[f,g,y]})}),w[21]=f,w[22]=g,w[23]=y,w[24]=k):k=w[24],k}e.s(["default",()=>u])}]);